---
title: 绘制二维码
date: 2020-08-13 19:32:56
tags: 二维码 React
---

### react 生成二维码

> [qrcode.react](https://github.com/zpao/qrcode.react)

```bash
npm install qrcode.react
```
#### 简单封装demo

```javascript
import React, { useMemo } from 'react'
const QRCode = require('qrcode.react')

const baseProps = {
  size: 128,
  fgColor:  '#000000',
  bgColor: '#ffffff',
  level: 'L',
  renderAs: 'svg',
  height: 40,
  width: 40,
}

const Code = React.memo(function({
  size,
  fgColor,
  bgColor,
  level,
  renderAs,
  imgSize,
  value,
  imgUrl
} = baseProps) {

const x = useMemo(()=> {
  return (size - imgSize) / 2
}, [imgSize, size])

const y = useMemo(()=> {
  return (size - imgSize) / 2
}, [imgSize, size])

return <QRCode 
        value = {value}
        size = {size}
        fgColor = {fgColor}
        bgColor = {bgColor}
        level = {level}
        renderAs = {renderAs}
        imageSettings={
          imgUrl 
          ? { 
                src: imgUrl, // 中间有图片logo
                height: imgSize,
                width: imgSize,
                excavate: true,
                x,
                y
            }
            :null
        }
      />
})

export default Code

 <Code 
    value="https://snnny.github.io/categories/React-JavaScript/?id=123"
    size={128}
    imgUrl="https://snnny.github.io/img/avatar.png"
    imgSize={50}
  />

```

#### API

props | defaultValue | 含义
---|---|--- 
value| | 用于生成二维码的链接
size | 128 | 二维码尺寸
imgUrl |  | 二维码中间的图片
imgSize | 40 | 二维码中间的图片尺寸
renderAs | svg | 生成的二维码格式

